<template>
  <h2> Pedidos </h2>

  <div submit.delegate="filter()">
    <div class="mb-3 search">
      <div>
        <label>No. Item</label>
        <input type="text" class="form-control" value.bind="query.idParte">
      </div>
      <div>
        <label>Familia</label>
        <select value.bind="query.Familia" class="form-control">
          <option value=${UNDEFINED}>Seleccionar</option>
          <option repeat.for="item of familias" value=${item}>${formatService.capitalize(item)}</option>
        </select>
      </div>
      <div>
        <label>Pedido</label>
        <select value.bind="query.estado" class="form-control">
          <option value="" selected>Seleccionar</option>
          <option value=1>Sí</option>
          <option value=0>No</option>
        </select>
      </div>
      <button class="btn btn-primary" type="submit">Buscar</button>
    </div>
  </div>

  <h2> Resultados </h2>
  <div class="pagination">
    <a click.trigger="previous()">❮</a>
    <a  click.trigger="next()">❯</a>
  </div>
  <!-- TODO: tabla -->
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col"># Parte</th>
        <th scope="col">Familia</th>
        <th scope="col">Nombre</th>
        <th scope="col">Minimo</th>
        <th scope="col">Maximo</th>
        <th scope="col">Prestado</th>
        <th scope="col">Disponible</th>
        <th scope="col">Total</th>
        <th scope='col'>Pedido </th>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="record of items">
        <td>${record.idParte}</td>
        <td>${record.Familia}</td>
        <td>${record.Descripcion}</td>
        <td>${record.Minimo}</td>
        <td>${record.Maximo}</td>
        <td>${record.Prestado}</td>
        <td>${record.Disponible}</td>
        <td>${record.Total}</td>
        <td>
          <input  if.bind="record['estado']==1" type="checkbox" checked.bind="record['estado']==1"  click.trigger="update(record)" />
          <input  if.bind="record['estado']==0" type="checkbox" checked.bind="record['estado']==1"  click.trigger="update(record)" />
        </td>
        
      </tr>
    </tbody>
  </table>




</template>
