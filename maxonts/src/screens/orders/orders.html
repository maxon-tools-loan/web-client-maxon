<template>
  <h2> Pedidos </h2>

  <form submit.delegate="filter()">
    <div class="mb-3 search">
      <div>
        <label>No. Item</label>
        <input type="text" class="form-control" value.bind="query.idParte">
      </div>
      <button class="btn btn-primary" type="submit">Buscar</button>
    </div>
  </form>

  <h2> Resultados </h2>

  <!-- TODO: tabla -->
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col"># Parte</th>
        <th scope="col">Familia</th>
        <th scope="col">Nombre</th>
        <th scope="col">Minimo</th>
        <th scope="col">Maximo</th>
        <th scope="col">Prestado</th>
        <th scope="col">Disponible</th>
        <th scope='col'>Pedido </th>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="record of items">
        <td>${record.idParte}</td>
        <td>${record.Familia}</td>
        <td>${record.Descripcion}</td>
        <td>${record.Minimo}</td>
        <td>${record.Maximo}</td>
        <td>${record.Prestados}</td>
        <td>${record.Disponibles!=null ? record.disponibles:0}</td>
        <td>
          <input  if.bind="record['estado']==1" type="checkbox" checked.bind="record['estado']==1"  click.trigger="update(record)" />
          <input  if.bind="record['estado']==0" type="checkbox" checked.bind="record['estado']==1"  click.trigger="update(record)" />
        </td>
        
      </tr>
    </tbody>
  </table>




</template>
